server:
  port: ${PORT:8080}
  servlet:
    session:
      cookie:
        name: JSESSIONID
        http-only: true
        secure: false
        max-age: 1800

spring:
  application:
    name: web-tu-thien
  datasource:
    url: ${DATABASE_URL:jdbc:postgresql://db.gbzwqsyoihqtpcionaze.supabase.co:5432/postgres?sslmode=require&ssl=true&sslfactory=org.postgresql.ssl.NonValidatingFactory}
    driver-class-name: org.postgresql.Driver
    username: ${DATABASE_USERNAME:postgres.gbzwqsyoihqtpcionaze}
    password: ${DATABASE_PASSWORD:zvBSwzV/@S8D?uvn}
    hikari:
      initialization-fail-timeout: -1
      connection-timeout: 60000
      maximum-pool-size: 5
      minimum-idle: 2
      idle-timeout: 300000
      max-lifetime: 600000
      connection-test-query: SELECT 1
  
  # Disable Spring Data JDBC
  autoconfigure:
    exclude:
      - org.springframework.boot.autoconfigure.data.jdbc.JdbcRepositoriesAutoConfiguration
  
  jpa:
    database-platform: org.hibernate.dialect.PostgreSQLDialect
    hibernate:
      ddl-auto: none
    properties:
      hibernate:
        format_sql: true
        jdbc:
          lob:
            non_contextual_creation: true
    show-sql: false
    open-in-view: false
  sql:
    init:
      mode: never
      continue-on-error: true
      schema-locations: classpath:schema-postgresql.sql
      data-locations: classpath:data-postgresql.sql
  session:
    timeout: 30m
  servlet:
    multipart:
      enabled: true
      max-file-size: 5MB
      max-request-size: 10MB

management:
  endpoints:
    web:
      exposure:
        include: health,info

# VNPay Configuration
vnpay:
  tmn-code: CGBU01D6
  hash-secret: GECKRBWVOKDDQSAEXBYNZFOJNPWSMXKV
  url: https://sandbox.vnpayment.vn/paymentv2/vpcpay.html
  return-url: https://webtuthien-production.up.railway.app/vnpay/return
  version: 2.1.0
  command: pay

# Supabase Configuration
supabase:
  url: https://gbzwqsyoihqtpcionaze.supabase.co
  anon-key: ${SUPABASE_ANON_KEY:eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6Imdiendxc3lvaWhxdHBjaW9uYXplIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NjQxNTIwODYsImV4cCI6MjA3OTcyODA4Nn0.zQgjlkrV7Q8i8cKrjdJm21qqbruFUPEs0-0lWMHTzlY}
  service-role-key: ${SUPABASE_SERVICE_KEY:eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6Imdiendxc3lvaWhxdHBjaW9uYXplIiwicm9sZSI6InNlcnZpY2Vfcm9sZSIsImlhdCI6MTc2NDE1MjA4NiwiZXhwIjoyMDc5NzI4MDg2fQ.tv8G5TZfdDwO05cbgPcXbXlNHFPqI5j_eLD9tEHRB4s}
  storage:
    bucket: campaign-images
    max-file-size: 5MB

